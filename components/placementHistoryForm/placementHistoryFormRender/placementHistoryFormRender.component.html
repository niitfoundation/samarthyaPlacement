<form [formGroup]="userForm">
    <div formArrayName = "AllPlacementHistory">
    <div *ngFor="let address of userForm.controls.AllPlacementHistory.controls; let i=index" class="panel panel-default">
    <button md-icon-button class="pull-right" *ngIf="userForm.controls.AllPlacementHistory.controls.length > 0" (click)="removePlacementHistory(i)"><i class="material-icons">close</i></button>

    <div class="panel-body" [formGroupName]="i">
            <span>Applied at </span>
            <md-input-container class="full-width">
                    <input mdInput formControlName="workplace" id="workplace" type="text" class="validate" placeholder="WorkPlace Name" />

            </md-input-container>
            <span> for the Job Role of </span>
            <md-input-container class="full-width">
                <input mdInput formControlName="jobRole" id="jobRole" type="text" class="validate" placeholder="Job Role" />      
            </md-input-container>
            <span> with designation as </span>
            <md-input-container class="full-width">
                    <input mdInput formControlName="designation" id="designation" type="text" class="validate" placeholder="Designation Name"/>
                  
            </md-input-container>
            <span> at location </span>

            <md-input-container class="full-width">
                <input mdInput formControlName="location" id="location" type="text" class="validate" placeholder="worklocation" />
                
            </md-input-container>
            
            <span>, on </span>
            <md2-datepicker [min]="minDate" [max]="maxDate" formControlName="from" id="from" placeholder="Applied Date" class="full-width">date</md2-datepicker>
            <div *ngIf="!userForm.controls.AllPlacementHistory.controls[i].controls.from.valid && userForm.controls.AllPlacementHistory.controls[i].controls.from.touched" class="errorStyle">
            </div>
            <span> .</span>
               <!--  <span class="lineHeight">till</span>
                <md2-datepicker [min]="minDate" [max]="maxDate" formControlName="till" id="till" placeholder="end year" class="full-width">date</md2-datepicker>
                <div *ngIf="!userForm.controls.AllPlacementHistory.controls[i].controls.till.valid && userForm.controls.AllPlacementHistory.controls[i].controls.till.touched"
                    class="errorStyle"> 

                </div>-->
            <br><br>
            <!-- <span> with a salary of </span>
            <md-input-container class="full-width">
                    <input mdInput formControlName="salary" id="salary" type="text" class="validate" placeholder="Salary"/>
                  
            </md-input-container> -->

            <span>Company contact person is </span>
            <md-input-container class="full-width">
                    <input mdInput formControlName="employerName" id="employerName" type="text" class="validate" placeholder="Company Contact Name"/>
                  
            </md-input-container>
            <span> and contact number is </span>
            <md-input-container class="full-width">
                    <input mdInput formControlName="employerContact" id="employerContact" type="text" class="validate" placeholder="Contact Number"/>
                  
            </md-input-container>
            <span>, received feedback as </span>
            <md-input-container class="full-width">
                    <input mdInput formControlName="employerFeedback" id="employerFeedback" type="text" class="validate" placeholder="Feedback"/>
            </md-input-container>
            <span> .</span>
            <br><br>

            <span>Assisted by coordinator </span>
            <md-select placeholder="Yes/No" formControlName="placementType" id="placementType">
              <md-option *ngFor="let placementType of placementTypeData" [value]="placementType.value">
                {{ placementType.name }}
              </md-option>
            </md-select>

            <div *ngIf = "userForm.controls.AllPlacementHistory.controls[i].controls.placementType.value=='niit coordinator'">
            <span>, and coordinator is </span>
            <md-select placeholder="Coordinator Name" formControlName="coordinatorName" id="coordinatorName" type="text" class="full-width" >
                <md-option *ngFor="let coordinator of coordinatorNames" [value]="coordinator">
                    {{coordinator}}
                </md-option>
            </md-select>
            <span>and remarks is </span>
            <md-input-container >
                    <input mdInput formControlName="placementRemarks" id="placementRemarks" type="text" class="validate" placeholder="Remarks"/>
                  
            </md-input-container> 
            <span> .</span>
            </div>  

            <br><br>
            <span> Application status </span>
            <md-select placeholder="Status" formControlName="placementStatus" id="placementStatus">
              <md-option *ngFor="let option of options" [value]="option.value">
                {{ option.name }}
              </md-option>
            </md-select>

            <span class="lineHeight"> as on </span>
            <md2-datepicker [min]="minDate" [max]="maxDate" formControlName="till" id="till" placeholder="Updated Date" class="full-width">date</md2-datepicker>
            <div *ngIf="!userForm.controls.AllPlacementHistory.controls[i].controls.till.valid && userForm.controls.AllPlacementHistory.controls[i].controls.till.touched" class="errorStyle"> 
            </div>
            <span>. </span>
    </div>
    <br>
    <hr>
    <br>
    </div>
    </div> 

        <button md-raised-button type="submit" color="primary" (click)="addPlacementHistory()">ADD</button>
        <button md-raised-button type="submit" color="primary" (click)="onSave()" [disabled]="!userForm.valid" md-dialog-close>Save</button>    

</form>